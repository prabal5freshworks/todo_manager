<section class="TodoSection"> 
    <div class="TodoSectionTitle">
        <p class="TodoSectionTitle-text">
            <%= section_title %> </p>
        <p class="TodoSectionTitle-remaningCount"><%= todos.completed.count %> / <%= todos.count %> </p>
    </div>
    <ul>
        <% todos.each do |todo|  %>
            <li class="TodoItem">
                <label class="TodoItem-container">
                    <%= form_with(url: "/todos/#{todo.id}", method: "put") do %>
                        <input class="TodoItem-checkbox"  type="checkbox" name="completed"  <%= todo.completed ? "checked" : "" %> onclick="this.form.submit()"/>
                    <% end %>

                    <p class='<%= todo.completed ? "todoItem-completedText" : "" %>'>
                        <%= todo.todo_text %>
                    </p>

                        <% if show_due_date  %>
                        <p class="todoItem-duedate">    <%= todo.due_date.to_formatted_s(:short) %>   </p>
                        <% end %>

                        <a class="TodoItem-delete"  href="javascript:void(0)">
                            <%= form_with(url: "/todos/#{todo.id}", method: "delete") do %>  
                               <input id="TodoItem-delete-image" type="image" src="data:image/jpeg;base64,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">
                            <% end %>
                        </a> 
                        
                </label>
            </li>
        <% end %>
    </ul>
</section>